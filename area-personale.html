<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Area Personale - Lancers Baseball</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1a365d">
<link rel="apple-touch-icon" href="icons/icon-192x192.png"> <meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --primary: #ffffff;
            --secondary: #94a3b8;
            --accent: #f59e0b;
            --success: #22c55e;
            --danger: #ef4444;
            --info: #3b82f6;
            --bg-body: linear-gradient(135deg, #0a1929 0%, #0f2847 50%, #1a365d 100%);
            --surface: rgba(255, 255, 255, 0.05);
            --surface-hover: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.1);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg-body);
            color: var(--secondary);
            margin: 0;
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Hero Section */
        .personal-hero {
            background: transparent;
            min-height: 40vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 6rem 1rem 6rem;
            position: relative;
            color: white;
            text-align: center;
        }
        
        .hero-content {
            position: relative;
            z-index: 10;
            max-width: 800px;
            margin: 0 auto;
        }

        .player-badge {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1.5rem;
            border-radius: 999px;
            display: inline-block;
            margin-bottom: 1.5rem;
            font-weight: 700;
            font-size: 0.9rem;
            letter-spacing: 0.05em;
        }

        .player-number {
            color: var(--accent);
            margin-right: 0.5rem;
        }

        .player-name {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
            background: linear-gradient(to right, #ffffff, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .player-role {
            font-size: 1.25rem;
            color: #94a3b8;
            font-weight: 400;
            margin-bottom: 2rem;
        }
        
        .hero-tags {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .hero-tag {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1.2rem;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: 500;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        /* Dashboard Grid */
        .dashboard-container {
            max-width: 1200px;
            margin: -2rem auto 4rem;
            padding: 0 1.5rem;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 2rem;
            position: relative;
            z-index: 20;
        }

        .col-span-12 { grid-column: span 12; }
        .col-span-8 { grid-column: span 8; }
        .col-span-6 { grid-column: span 6; }
        .col-span-4 { grid-column: span 4; }
        .col-span-3 { grid-column: span 3; }

        /* Cards */
        .card {
            background: var(--surface);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            background: var(--surface-hover);
            box-shadow: var(--shadow-lg);
        }

        /* Stats Boxes */
        .stat-box {
            background: var(--surface);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
            border-bottom: 4px solid var(--accent);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: white;
            line-height: 1;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #94a3b8;
            font-weight: 700;
        }

        /* Skills Radar */
        .skills-wrapper {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }
        
        .skill-row { margin-bottom: 0.5rem; }
        
        .skill-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
            font-weight: 600;
            color: white;
        }
        
        .progress-bg {
            height: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 999px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), #4ade80);
            border-radius: 999px;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Evaluation Grid */
        .eval-title {
            font-size: 1.2rem;
            font-weight: 800;
            color: white;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            position: relative;
            padding-bottom: 0.75rem;
        }
        
        .eval-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 4px;
            background: var(--accent);
            border-radius: 2px;
        }

        .eval-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .eval-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid var(--info);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-left: 4px solid var(--info);
        }
        
        .eval-item p { 
            margin: 0; 
            font-size: 0.95rem; 
            color: #cbd5e1;
        }

        /* Quadrant Grid */
        .quad-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .quad-box {
            padding: 1.5rem;
            border-radius: 16px;
            border: 1px solid transparent;
            backdrop-filter: blur(5px);
        }
        
        .quad-box:nth-child(1) { background: rgba(34, 197, 94, 0.15); border-color: rgba(34, 197, 94, 0.3); } /* Strengths */
        .quad-box:nth-child(2) { background: rgba(239, 68, 68, 0.15); border-color: rgba(239, 68, 68, 0.3); } /* Weaknesses */
        .quad-box:nth-child(3) { background: rgba(251, 146, 60, 0.15); border-color: rgba(251, 146, 60, 0.3); } /* Work */
        .quad-box:nth-child(4) { background: rgba(59, 130, 246, 0.15); border-color: rgba(59, 130, 246, 0.3); } /* Goal */

        .quad-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: 800;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
            color: #94a3b8;
        }
        
        .quad-content {
            font-weight: 600;
            font-size: 1.1rem;
            color: white;
            line-height: 1.4;
        }

        /* Lists */
        .goal-list { list-style: none; padding: 0; margin: 0; }
        .goal-list li {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            color: #cbd5e1;
        }
        .goal-list li:last-child { border-bottom: none; }
        .goal-list li::before {
            content: '‚úì';
            color: var(--success);
            font-weight: 800;
            background: rgba(34, 197, 94, 0.2);
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-size: 0.8rem;
            flex-shrink: 0;
            margin-top: 2px;
        }

        /* AI Coach Section */
        .ai-coach-card {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.15) 50%, rgba(34, 197, 94, 0.1) 100%);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-left: 5px solid #8b5cf6;
            position: relative;
            overflow: hidden;
        }
        
        .ai-coach-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
            animation: pulse-ai 4s ease-in-out infinite;
        }
        
        @keyframes pulse-ai {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        .ai-coach-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }
        
        .ai-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }
        
        .ai-title-group h3 {
            margin: 0;
            font-size: 1.3rem;
            color: white;
            font-weight: 800;
        }
        
        .ai-title-group p {
            margin: 0.25rem 0 0;
            font-size: 0.85rem;
            color: #a78bfa;
        }
        
        .ai-advice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            position: relative;
            z-index: 1;
        }
        
        .ai-advice-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 1.25rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .ai-advice-item:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-2px);
        }
        
        .ai-advice-item.positive { border-left: 4px solid #22c55e; }
        .ai-advice-item.warning { border-left: 4px solid #f59e0b; }
        .ai-advice-item.critical { border-left: 4px solid #ef4444; }
        .ai-advice-item.info { border-left: 4px solid #3b82f6; }
        
        .ai-advice-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .ai-advice-title {
            font-weight: 700;
            color: white;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }
        
        .ai-advice-text {
            font-size: 0.9rem;
            color: #cbd5e1;
            line-height: 1.5;
        }
        
        .ai-summary {
            background: rgba(139, 92, 246, 0.15);
            border-radius: 12px;
            padding: 1.25rem;
            margin-top: 1.5rem;
            border: 1px solid rgba(139, 92, 246, 0.3);
            position: relative;
            z-index: 1;
        }
        
        .ai-summary-title {
            font-weight: 700;
            color: #a78bfa;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
        
        .ai-summary-text {
            color: white;
            font-size: 1rem;
            line-height: 1.6;
        }

        /* Chatbot Styles */
        .chatbot-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 600px;
        }

        .chatbot-header {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(59, 130, 246, 0.3));
            padding: 1.25rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chatbot-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #8b5cf6, #3b82f6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            flex-shrink: 0;
        }

        .chatbot-info h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 700;
            color: white;
        }

        .chatbot-info p {
            margin: 0.25rem 0 0 0;
            font-size: 0.85rem;
            color: #cbd5e1;
        }

        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chat-message {
            display: flex;
            gap: 0.75rem;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .message-avatar.bot {
            background: linear-gradient(135deg, #8b5cf6, #3b82f6);
        }

        .message-avatar.user {
            background: linear-gradient(135deg, #f59e0b, #ef4444);
        }

        .message-content {
            max-width: 70%;
            padding: 0.875rem 1.125rem;
            border-radius: 16px;
            line-height: 1.5;
        }

        .chat-message.bot .message-content {
            background: rgba(139, 92, 246, 0.15);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: #cbd5e1;
        }

        .chat-message.user .message-content {
            background: rgba(245, 158, 11, 0.15);
            border: 1px solid rgba(245, 158, 11, 0.3);
            color: white;
            text-align: right;
        }

        .chatbot-input-area {
            padding: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.2);
        }

        .chatbot-suggestions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 0.75rem;
        }

        .suggestion-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: #94a3b8;
            padding: 0.5rem 0.875rem;
            border-radius: 999px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .suggestion-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.5);
            color: white;
            transform: translateY(-1px);
        }

        .chatbot-input-wrapper {
            display: flex;
            gap: 0.75rem;
        }

        .chatbot-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 0.875rem 1rem;
            color: white;
            font-size: 0.95rem;
            outline: none;
            transition: all 0.2s;
        }

        .chatbot-input:focus {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(139, 92, 246, 0.5);
        }

        .chatbot-input::placeholder {
            color: #64748b;
        }

        .send-btn {
            background: linear-gradient(135deg, #8b5cf6, #3b82f6);
            border: none;
            border-radius: 12px;
            padding: 0.875rem 1.5rem;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .send-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(139, 92, 246, 0.3);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            gap: 0.375rem;
            padding: 0.875rem 1.125rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #8b5cf6;
            border-radius: 50%;
            animation: typing 1.4s ease-in-out infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        /* Stats Table */
        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.03);
        }
        .stats-table { width: 100%; border-collapse: collapse; min-width: 600px; }
        .stats-table th {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            text-align: left;
            font-weight: 700;
            color: #94a3b8;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .stats-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: #cbd5e1;
            font-variant-numeric: tabular-nums;
        }
        .stats-table tr:last-child td {
            background: rgba(245, 158, 11, 0.1);
            font-weight: 700;
            color: white;
            border-top: 2px solid var(--accent);
        }

        /* Footer & Mobile */
        .back-btn {
            display: inline-block;
            margin-top: 1rem;
            background: rgba(59, 130, 246, 0.2);
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            box-shadow: var(--shadow);
            border: 1px solid rgba(59, 130, 246, 0.3);
            transition: all 0.2s;
        }
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background: rgba(59, 130, 246, 0.3);
            color: white;
        }

        /* --- INIZIO NUOVO CODICE RESPONSIVE --- */
@media (max-width: 768px) {
    .personal-hero { 
        padding: 6rem 1rem 4rem;
        min-height: auto;
    }

    .player-name {
        font-size: 2.2rem;
    }

    .dashboard-container { 
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 0.75rem;
        margin-top: -1rem; 
        padding: 0 1rem; 
    }

    .col-span-12, .col-span-8, .col-span-6, .col-span-4 { 
        width: 100%; 
    }
    
    /* K% e BB% affiancati su mobile */
    .col-span-3.stat-box,
    .dashboard-container > .stat-box {
        width: 48%;
        flex: 0 0 48%;
        padding: 0.8rem;
        margin-bottom: 0;
    }
    
    .stat-box .stat-value {
        font-size: 1.5rem;
    }
    
    .stat-box .stat-label {
        font-size: 0.7rem;
    }
    
    .card {
        width: 100%;
        flex: 0 0 100%;
        padding: 1.25rem;
    }

    .quad-grid { 
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .quad-box {
        padding: 1rem;
    }

    .table-container {
        margin: 0 -0.5rem;
        border: none;
    }
    
    .stats-table th, 
    .stats-table td {
        padding: 0.5rem 0.25rem;
        font-size: 0.8rem;
    }
    
    .stats-table {
        min-width: auto;
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
}
/* --- FINE NUOVO CODICE RESPONSIVE --- */
        
    </style>
</head>
<body>
    <script>
        // Ripristina sessione da localStorage se disponibile
        if (localStorage.getItem('authenticated') === 'true') {
            sessionStorage.setItem('authenticated', 'true');
            const savedPlayer = localStorage.getItem('playerData');
            if (savedPlayer) sessionStorage.setItem('playerData', savedPlayer);
        }
        if (sessionStorage.getItem('authenticated') !== 'true') {
            window.location.href = 'login.html';
        }
    </script>
    <nav class="navbar">
        <div class="nav-brand">
            <div class="baseball-ball logo"></div>
            <span class="team-name">Lancers Baseball</span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">üè† Home</a></li>
            <li><a href="calendario-completo.html">üìÖ Calendario</a></li>
            <li><a href="allenamenti.html">üèãÔ∏è Allenamenti</a></li>
            <li><a href="calendario.html">‚öæ Partite</a></li>
            <li><a href="presenze.html">üìã Presenze</a></li>
            <li><a href="documento.html">üìÑ Documento</a></li>
            <li><a href="area-personale.html" class="active">üë§ Area Personale</a></li>
        </ul>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <div id="personalContent">
        <!-- Contenuto generato dinamicamente -->
    </div>

    <footer>
        <p>‚öæ ¬© 2026 Lancers Baseball Club - Serie B Federazione Italiana Baseball Softball</p>
        <p class="footer-motto">"Play Hard, Play Fair, Play Together" üèÜ</p>
        <button id="logoutBtn" class="footer-logout-btn">üö™ Logout</button>
    </footer>

    <script src="script.js?v=44"></script>
    <script>
        // Database completo giocatori - Stagione 2026
        // Include valutazioni staff, statistiche e obiettivi
        // Database completo giocatori - Stagione 2026
        // Include valutazioni staff, statistiche e obiettivi
        const playerObjectives = {
            7: {
                name: 'Silvano Albano',
                number: 7,
                role: 'Prima Base',
                role2: 'DH - Esterno',
                age: 32,
                turni: 217,
                kPercent: '17,5%',
                bbPercent: '11,0%',
                skills: {
                    avg: 7,
                    potenza: 9,
                    corsa: 4,
                    difesa: 7,
                    lancio: 4
                },
                puntiForza: 'Esperienza - Potenza',
                puntiDeboli: 'Velocit√† - Braccio',
                vorreiLavorare: '',
                mioObiettivo: 'Superare 20 valide - Fare almeno un fuoricampo in partita ufficiale',
                valutazioni: {
                    fisica: 'Da creare base, √® necessario anche un lavoro mirato sull\'esplosivit√† per migliorare reattivit√† e prime fasi del movimento.',
                    battuta: 'Dispone di una buona potenza naturale. Deve migliorare la gestione dei turni in situazioni di RBI, lavorare su una battuta pi√π completa su tutto il campo e aumentare l\'efficacia sulla palla esterna.',
                    difesa: 'Mostra timore sulla palla battuta a terra. √à necessario lavorare sulla sicurezza difensiva e sul tiro, in particolare sull\'allungamento del gesto durante il palleggio.',
                    generale: 'Giocatore che deve comprendere meglio il proprio ruolo all\'interno della squadra. Tende ad avere un\'eccessiva considerazione di s√©, aspetto che va riequilibrato per favorire crescita e rendimento collettivo.'
                },
                obiettivi: ['RBI stagionali <15', 'H stagionali <20'],
                lavoroAutonomo: ['Corsa casa-seconda con monitoraggio', 'Lavorare su tiro durante il palleggio'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 24, gs: 18, ab: 63, r: 9, h: 14, '2b': 1, '3b': 0, hr: 0, rbi: 7, tb: 15, avg: '.222', slg: '.238', obp: '.310', ops: '.548', bb: 7, hbp: 1, so: 11, gdp: 0, sf: 0, sh: 1, sb: 1, cs: 0 },
                    { anno: '2024', squadra: 'LAN', gg: 23, gs: 21, ab: 74, r: 5, h: 22, '2b': 3, '3b': 0, hr: 0, rbi: 13, tb: 25, avg: '.297', slg: '.338', obp: '.402', ops: '.740', bb: 10, hbp: 3, so: 15, gdp: 2, sf: 0, sh: 0, sb: 1, cs: 0 },
                    { anno: '2023', squadra: 'LAN', gg: 12, gs: 7, ab: 28, r: 2, h: 7, '2b': 1, '3b': 0, hr: 0, rbi: 2, tb: 8, avg: '.250', slg: '.286', obp: '.323', ops: '.609', bb: 1, hbp: 2, so: 7, gdp: 0, sf: 0, sh: 1, sb: 0, cs: 0 },
                    { anno: '2022', squadra: 'LAN', gg: 11, gs: 5, ab: 19, r: 5, h: 3, '2b': 0, '3b': 0, hr: 0, rbi: 1, tb: 3, avg: '.158', slg: '.158', obp: '.385', ops: '.543', bb: 6, hbp: 1, so: 5, gdp: 2, sf: 0, sh: 0, sb: 0, cs: 1 }
                ],
                totali: { gg: 70, gs: 51, ab: 184, r: 21, h: 46, '2b': 5, '3b': 0, hr: 0, rbi: 23, tb: 51, avg: '.250', slg: '.277', obp: '.358', ops: '.635', bb: 24, hbp: 7, so: 38, gdp: 4, sf: 0, sh: 2, sb: 2, cs: 1 }
            },
            32: {
                name: 'Filippo Anichini',
                number: 32,
                role: 'Interno',
                age: 25,
                turni: 191,
                kPercent: '27,2%',
                bbPercent: '15,1%',
                skills: {
                    avg: 5,
                    potenza: 4,
                    corsa: 7,
                    difesa: 8,
                    lancio: 6
                },
                puntiForza: 'Corsa sulle basi, battuta, Tattiche di base, Mentalit√†/concentrazione, precisione di tiro, bunt, occhio su strike/ball',
                puntiDeboli: 'Movimento, forza, tempismo, lettura sugli effetti, rapidit√† di gambe, anticipazione della giocata',
                vorreiLavorare: 'Migliorare il movimento della battuta, sviluppare rapidit√† ed esplosivit√† (battuta e corsa)',
                mioObiettivo: 'Migliorare media battuta/arrivo in base, acquisire pi√π sicurezza e reattivit√† per le giocate difensive, aumentare la velocit√† della corsa, migliorare media difensiva',
                valutazioni: {
                    fisica: 'Da migliorare l\'esplosivit√† delle gambe per aumentare efficacia offensiva e difensiva.',
                    battuta: 'La potenza non √® il suo punto di forza. Deve puntare sulla continuit√†, sul contatto verso il campo opposto e su un migliore approccio al turno. Importante ridurre gli strikeout e continuare a valorizzare la capacit√† di prendere basi su ball. Utile introdurre il bunt a sorpresa.',
                    difesa: 'Non ha paura della palla, buon braccio. Deve migliorare posizionamento, lettura dei battitori e attenzione alle situazioni di gioco.',
                    generale: 'Giocatore molto positivo: ascolta, vuole imparare e ha un ottimo atteggiamento verso staff e compagni. Profilo affidabile e allenabile.'
                },
                obiettivi: ['Migliorare rapporto BB/SO <1', 'AVG stagionale <.260', 'Lavorare su bunt a sorpresa anche in BP', 'Contatto in campo opposto'],
                lavoroAutonomo: ['Corsa casa-prima con monitoraggio', 'Migliorare reattivit√† delle gambe in difesa'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 21, ab: 38, r: 12, h: 10, avg: '.263', slg: '.289', obp: '.451', bb: 10, so: 11, sb: 5 },
                    { anno: '2024', squadra: 'LAN', gg: 23, ab: 42, r: 3, h: 6, avg: '.143', slg: '.143', obp: '.250', bb: 6, so: 18, sb: 6 },
                    { anno: '2023', squadra: 'FIO', gg: 14, ab: 30, r: 9, h: 5, avg: '.167', slg: '.167', obp: '.324', bb: 6, so: 11, sb: 0 },
                    { anno: '2022', squadra: 'FIO', gg: 17, ab: 36, r: 6, h: 5, avg: '.139', slg: '.139', obp: '.279', bb: 6, so: 11, sb: 1 }
                ],
                totali: { gg: 75, ab: 146, r: 30, h: 26, avg: '.178', slg: '.185', bb: 29, so: 52, sb: 12 }
            },
            4: {
                name: 'Giovanni Beudean',
                number: 4,
                role: 'Esterno',
                age: 21,
                turni: 226,
                kPercent: '26,1%',
                bbPercent: '11%',
                skills: {
                    avg: 4,
                    potenza: 7,
                    corsa: 8,
                    difesa: 3,
                    lancio: 3
                },
                puntiForza: 'Battuta',
                puntiDeboli: 'Difesa',
                vorreiLavorare: 'Difesa',
                mioObiettivo: '.350 avg',
                valutazioni: {
                    fisica: 'Atletismo naturale di alto livello. Si pu√≤ impostare un lavoro specifico per eccellere ulteriormente nella corsa.',
                    battuta: 'Potenza naturale evidente. Questo aspetto va prioritizzato lavorando su lettura del lancio e disciplina al piatto per rendere la potenza pi√π costante e produttiva.',
                    difesa: 'Da migliorare lettura del battitore e della palla per un posizionamento pi√π efficace. Il lancio √® migliorabile.',
                    generale: 'Giocatore giovane con doti atletiche incredibili. Ha il potenziale per diventare titolare fisso e punto fermo della squadra nel medio periodo.'
                },
                obiettivi: ['AVG stagionale <.250', 'SB stagionali <10', 'Migliorare BB/SO o mantenere RBI/H'],
                lavoroAutonomo: ['Difesa lavorare all\'esterno durante il BP', 'Corsa casa-seconda con monitoraggio'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 17, ab: 37, r: 5, h: 7, avg: '.189', slg: '.378', obp: '.279', bb: 5, so: 15, sb: 1 },
                    { anno: '2024', squadra: 'LAN', gg: 18, ab: 43, r: 3, h: 8, avg: '.186', slg: '.233', obp: '.271', bb: 4, so: 15, sb: 3 },
                    { anno: '2023', squadra: 'LAN', gg: 17, ab: 47, r: 11, h: 8, avg: '.170', slg: '.191', obp: '.298', bb: 7, so: 15, sb: 2 },
                    { anno: '2022', squadra: 'LAN', gg: 23, ab: 64, r: 9, h: 13, avg: '.203', slg: '.219', obp: '.338', bb: 9, so: 14, sb: 5 }
                ],
                totali: { gg: 75, ab: 191, r: 28, h: 36, avg: '.188', slg: '.246', bb: 25, so: 59, sb: 11 }
            },
            59: {
                name: 'Lapo Biondi',
                number: 59,
                role: 'Interno',
                age: 24,
                turni: 469,
                kPercent: '19%',
                bbPercent: '14,7%',
                skills: {
                    avg: 5,
                    potenza: 7,
                    corsa: 6,
                    difesa: 6,
                    lancio: 6
                },
                puntiForza: 'Buona memoria, conoscenza degli schemi',
                puntiDeboli: 'Non saper passare sopra gli errori per poi influenzare le prestazioni successive',
                vorreiLavorare: 'Sulla lettura del lanciatore cos√¨ da rubare con pi√π facilit√†, e gestione della pressione anche autoinflitta',
                mioObiettivo: 'Migliorare l\'approccio alla battuta e al gioco in generale cos√¨ da riuscire a rendere al meglio rimanendo sereno e diventando un punto di riferimento per i miei compagni soprattutto i pi√π giovani',
                valutazioni: {
                    fisica: 'Buona condizione generale, ma √® necessario lavorare sull‚Äôelasticit√† per migliorare fluidit√† e prevenzione infortuni.',
                    battuta: 'Ottimo profilo da leadoff. Legge bene i lanci, prende basi e usa tutto il campo. Non √® un battitore di potenza, ma √® estremamente funzionale all‚Äôattacco.',
                    difesa: 'Ottime potenzialit√† di continuit√†. Braccio molto valido dall‚Äôinterbase. Deve ampliare il range usando di pi√π il tuffo e rendere i movimenti pi√π morbidi. Importante lavorare anche sulla serenit√† mentale in difesa.',
                    generale: 'Giocatore giovane e ricettivo. Deve smettere di cercare scuse: non ne ha bisogno, le qualit√† ci sono tutte.'
                },
                obiettivi: ['OBP stagionale <.400', 'AVG stagionale <.275', 'Migliorare rapporto SB/CS'],
                lavoroAutonomo: ['Consolidare leadership in fase difensiva, perfezionare range, presa e tiro', 'Lavoro di flessibilit√† e reattivit√†', 'Esercizi di meditazione pre partita e durante la partita'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 25, ab: 63, r: 14, h: 13, avg: '.206', slg: '.270', bb: 13, so: 18, sb: 4 },
                    { anno: '2024', squadra: 'LAN', gg: 28, ab: 110, r: 24, h: 33, avg: '.300', slg: '.336', bb: 13, so: 22, sb: 15 },
                    { anno: '2023', squadra: 'LAN', gg: 27, ab: 101, r: 30, h: 36, avg: '.356', slg: '.416', bb: 27, so: 28, sb: 10 },
                    { anno: '2022', squadra: 'LAN', gg: 26, ab: 109, r: 32, h: 29, avg: '.266', slg: '.294', bb: 16, so: 21, sb: 5 }
                ],
                totali: { gg: 106, ab: 383, r: 100, h: 111, avg: '.290', slg: '.334', bb: 69, so: 89, sb: 34 }
            },
            3: {
                name: 'Ettore Della Nave',
                number: 3,
                role: 'Esterno',
                age: 21,
                turni: 341,
                kPercent: '21,4%',
                bbPercent: '11,4%',
                skills: {
                    avg: 5,
                    potenza: 6,
                    corsa: 7,
                    difesa: 8,
                    lancio: 8
                },
                puntiForza: 'Difesa e garra',
                puntiDeboli: 'Impegno e troppo impulsivo negli atteggiamenti',
                vorreiLavorare: 'Approccio alla battuta, hitting power, pi√π extrabase, effetti',
                mioObiettivo: 'Battere sopra .300 e giocare il pi√π possibile',
                valutazioni: {
                    fisica: 'Fisico ancora esile ma con potenza evidente. Molto rapido di gambe.',
                    battuta: 'La media battuta va consolidata aumentando la produzione di extrabase. Necessaria una migliore gestione del turno.',
                    difesa: 'Ottimo esterno centro con grande range. Braccio potente, precisione nella media. Deve lavorare sulla continuit√† difensiva e leadership tra gli esterni.',
                    generale: 'Giocatore non negativo dal punto di vista caratteriale, ma deve imparare ad ascoltare di pi√π e commentare meno per massimizzare la crescita.'
                },
                obiettivi: ['Migliorare rapporto BB/SO', 'SB stagionali <10', 'AVG stagionale <.280', 'Lavorare su extrabase'],
                lavoroAutonomo: ['Lavoro su palle a terra durante il BP', 'Migliorare precisione del tiro', 'Corsa casa-prima e casa-seconda con monitoraggio'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 27, ab: 73, r: 14, h: 15, avg: '.205', slg: '.315', bb: 12, so: 15, sb: 3 },
                    { anno: '2024', squadra: 'LAN', gg: 27, ab: 95, r: 18, h: 29, avg: '.305', slg: '.347', bb: 15, so: 24, sb: 2 },
                    { anno: '2023', squadra: 'FIO', gg: 15, ab: 45, r: 12, h: 13, avg: '.289', slg: '.356', bb: 7, so: 9, sb: 2 },
                    { anno: '2022', squadra: 'FIO', gg: 26, ab: 80, r: 11, h: 18, avg: '.225', slg: '.250', bb: 5, so: 25, sb: 1 }
                ],
                totali: { gg: 95, ab: 293, r: 55, h: 75, avg: '.256', slg: '.314', bb: 39, so: 73, sb: 20 }
            },
            12: {
                name: 'Francesco Grassi',
                number: 12,
                role: 'Interno',
                age: 23,
                turni: 260,
                kPercent: '26,9%',
                bbPercent: '7%',
                skills: {
                    avg: 3,
                    potenza: 5,
                    corsa: 5,
                    difesa: 5,
                    lancio: 7
                },
                puntiForza: '.',
                puntiDeboli: 'Gestione della tensione in alcune situazioni',
                vorreiLavorare: 'Maggiore sicurezza e controllo',
                mioObiettivo: 'Migliorarmi a livello mentale e di prestazioni',
                valutazioni: {
                    fisica: 'Fisicit√† importante e altezza sopra la media. Deve aumentare la massa muscolare.',
                    battuta: 'Poche basi su ball. Deve lavorare sugli extrabase e sviluppare il potenziale da fuoricampo. Tende ad abbattersi troppo dopo uno swing sbagliato.',
                    difesa: 'Prima base solido. Migliorabile sulle battute a terra e sull‚Äôattenzione alle situazioni di gioco.',
                    generale: 'Ragazzo molto valido, ma con scarsa considerazione di s√©. Ascolta lo staff, ma si demoralizza facilmente: aspetto mentale prioritario.'
                },
                obiettivi: ['Migliorare rapporto BB/SO', 'SF stagionali <5', 'Lavorare su palla alta durante il BP'],
                lavoroAutonomo: ['Lavorare su lancio durante il palleggio', 'Lavoro atletico su dorsali e gambe'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 19, ab: 49, r: 5, h: 15, avg: '.306', slg: '.327', bb: 3, so: 14, sb: 3 },
                    { anno: '2024', squadra: 'LAN', gg: 24, ab: 69, r: 5, h: 19, avg: '.275', slg: '.304', bb: 5, so: 22, sb: 0 },
                    { anno: '2023', squadra: 'LAN', gg: 12, ab: 41, r: 5, h: 9, avg: '.220', slg: '.244', bb: 1, so: 11, sb: 0 },
                    { anno: '2022', squadra: 'LAN', gg: 22, ab: 64, r: 13, h: 14, avg: '.219', slg: '.359', bb: 10, so: 23, sb: 4 }
                ],
                totali: { gg: 77, ab: 223, r: 28, h: 57, avg: '.256', slg: '.314', bb: 19, so: 70, sb: 4 }
            },
            8: {
                name: 'Tommaso Panichi',
                number: 8,
                role: 'Esterno',
                age: 26,
                turni: 234,
                kPercent: '30,3%',
                bbPercent: '15,8%',
                skills: {
                    avg: 4,
                    potenza: 7,
                    corsa: 8,
                    difesa: 8,
                    lancio: 5
                },
                puntiForza: 'Sono un esterno affidabile e con un buon braccio. Solitamente finisco il campionato con un buon numero di basi su ball, sono discreto nel bunt.',
                puntiDeboli: 'Non ho per niente potenza in battuta e spesso non mi sento di avere confidence nel box, perch√© non sono consistente con il mio giro e impatto raramente la palla piena. Prendo un po\' troppi strikeout.',
                vorreiLavorare: 'Sullo swing, che sia corretto, efficace e consistente. Mi piacerebbe riuscire ad essere pronto e fiducioso nel box, sia tecnicamente che mentalmente.',
                mioObiettivo: 'Mi piacerebbe riuscire a finire con pi√π di .250 di avg, tendente a .300; mi piacerebbe riuscire a guadagnare un posto da titolare pi√π fisso rispetto agli anni passati (ovvero giocare pi√π inning); vorrei riuscire a diminuire il ratio di strikeout; mi piacerebbe ipoteticamente fare qualche allenamento da lanciatore, o almeno essere guardato ogni tanto da Carlos',
                valutazioni: {
                    fisica: 'Nella media, da aumentare massa ed esplosivit√†.',
                    battuta: 'Deve lavorare sul contatto per mettere pi√π palle in gioco. Utile sviluppare contatto a destra e bunt a sorpresa. Troppi strikeout nonostante una buona capacit√† di prendere basi.',
                    difesa: 'Ottimo difensore con braccio sopra la media. Interessante possibilit√† di utilizzo anche sul monte.',
                    generale: 'Giocatore che si allena e segue lo staff. Carattere talvolta irascibile, deve imparare a gestire meglio le emozioni in partita.'
                },
                obiettivi: ['AVG stagionale <.250', 'SB stagionali <10', 'Lavoro su bunt a sorpresa durante il BP'],
                lavoroAutonomo: ['Lavoro extra come lanciatore'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 19, ab: 38, r: 7, h: 8, avg: '.211', slg: '.211', bb: 9, so: 14, sb: 4 },
                    { anno: '2024', squadra: 'LAN', gg: 22, ab: 33, r: 3, h: 2, avg: '.061', slg: '.061', bb: 11, so: 17, sb: 3 },
                    { anno: '2023', squadra: 'FIO', gg: 20, ab: 45, r: 17, h: 13, avg: '.289', slg: '.378', bb: 5, so: 16, sb: 8 },
                    { anno: '2022', squadra: 'FIO', gg: 25, ab: 64, r: 9, h: 15, avg: '.234', slg: '.266', bb: 12, so: 24, sb: 1 }
                ],
                totali: { gg: 86, ab: 180, r: 36, h: 38, avg: '.211', slg: '.244', bb: 37, so: 71, sb: 11 }
            },
            90: {
                name: 'Alessandro Rrethatori',
                number: 90,
                role: 'Ricevitore',
                role2: 'Interno',
                age: 16,
                turni: 37,
                kPercent: '48,6%',
                bbPercent: '18,9%',
                skills: {
                    avg: 3,
                    potenza: 8,
                    corsa: 8,
                    difesa: 7,
                    lancio: 7
                },
                puntiForza: 'Mi possono bene o male mettere in tutte le posizioni interne compreso catcher oppure se in caso di situazione mi mettono a correre sulle basi',
                puntiDeboli: 'Forse mancanza di alcuni blocchi da catcher e la battuta da migliorare',
                vorreiLavorare: 'Esplosivit√† con le gambe per il tiro in seconda da catcher, sulla potenza del braccio e meccanica',
                mioObiettivo: 'Diventare un vero catcher e apprendere meglio i turni in battuta',
                valutazioni: {
                    fisica: 'Atleta naturale. Deve imparare a controllare meglio il proprio corpo.',
                    battuta: 'Campione ridotto, ma alto numero di strikeout. Potenza naturale evidente. Deve imparare a gestire il turno e leggere lanci di categoria senior.',
                    difesa: 'Buon difensore interno, con prospettiva da catcher di qualit√†. Da migliorare framing e tiro alle basi.',
                    generale: 'Si allena con continuit√†, ma tende all‚Äôarroganza. Deve ascoltare di pi√π i compagni pi√π esperti.'
                },
                obiettivi: ['OBP stagionale <.400', 'SB stagionale <10', 'Lavorare su bunt a sorpresa durante il BP', 'Lavoro su linedrive'],
                lavoroAutonomo: ['Corsa casa-prima, casa-seconda e prima-seconda con monitoraggio', 'Lavoro esplosivo di scatti casa-prima, casa-seconda e prima-seconda con misurazione dei tempi', 'Migliorare il tiro con lavoro durante il palleggio'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 18, ab: 29, r: 7, h: 5, avg: '.172', slg: '.276', bb: 7, so: 18, sb: 4 }
                ],
                totali: { gg: 18, ab: 29, r: 7, h: 5, avg: '.172', slg: '.276', bb: 7, so: 18, sb: 4 }
            },
            14: {
                name: 'Leonardo Scarpulla',
                number: 14,
                role: 'Esterno',
                age: 22,
                turni: 197,
                kPercent: '30,4%',
                bbPercent: '14,2%',
                skills: {
                    avg: 5,
                    potenza: 2,
                    corsa: 8,
                    difesa: 6,
                    lancio: 5
                },
                puntiForza: 'Corsa e non voler mollare mai',
                puntiDeboli: 'A volte mi faccio trasportare troppo dalla partita e capita che mi rigiri in modo sbagliato verso i miei compagni',
                vorreiLavorare: 'Sul migliorare la capacit√† di mettere in campo qualsiasi palla ed evitare pop o flyout',
                mioObiettivo: 'Media alta di arrivo in base, rubate e punti',
                valutazioni: {
                    fisica: 'Statura bassa ma fisicit√† tonica.',
                    battuta: 'Velocit√† di corsa impressionante. Se aumentasse le palle messe in gioco avrebbe molti pi√π arrivi in base. Lavorare sulla lettura del pitcher per rubare seconda, terza e casa.',
                    difesa: 'Ottimo range grazie alla velocit√†. Da migliorare posizionamento e lettura di palla e battitori. Braccio da rinforzare.',
                    generale: 'Rispetta i ruoli, ma la partita a volte ne offusca la lucidit√†, rendendolo troppo aggressivo emotivamente.'
                },
                obiettivi: ['OBP stagionale <.375', 'SB stagionali 15', 'Lavorare su bunt a sorpresa durante il BP'],
                lavoroAutonomo: ['Lavoro all\'esterno per la lettura della palla battuta durante il BP', 'Lavoro sul tiro durante palleggio', 'Lavoro atletico con focus su braccia e spalle per prevenire infortuni'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 17, ab: 35, r: 8, h: 8, avg: '.229', slg: '.229', bb: 5, so: 10, sb: 4 },
                    { anno: '2024', squadra: 'LAN', gg: 20, ab: 51, r: 13, h: 7, avg: '.137', slg: '.176', bb: 11, so: 19, sb: 3 },
                    { anno: '2023', squadra: 'LAN', gg: 18, ab: 42, r: 15, h: 8, avg: '.190', slg: '.286', bb: 9, so: 18, sb: 1 },
                    { anno: '2022', squadra: 'LAN', gg: 18, ab: 34, r: 5, h: 6, avg: '.176', slg: '.206', bb: 3, so: 13, sb: 1 }
                ],
                totali: { gg: 73, ab: 162, r: 41, h: 29, avg: '.179', slg: '.222', bb: 28, so: 60, sb: 12 }
            },
            25: {
                name: 'Lorenzo Scarpulla',
                number: 25,
                role: 'Ricevitore',
                role2: 'DH',
                age: 20,
                turni: 99,
                kPercent: '16%',
                bbPercent: '4%',
                skills: {
                    avg: 7,
                    potenza: 5,
                    corsa: 3,
                    difesa: 5,
                    lancio: 4
                },
                puntiForza: 'Media battuta, contatto con la palla a battere',
                puntiDeboli: 'Resistenza, velocit√†',
                vorreiLavorare: 'Potenza, resistenza, velocit√† dei movimenti',
                mioObiettivo: 'Mantenere o aumentare l\'average in battuta, aumentare la potenza e il valore delle battute, aumentare le rubate, essere pi√π solido difensivamente, aumentare la velocit√† dei movimenti',
                valutazioni: {
                    fisica: 'Deve lavorare in modo significativo sulla forma atletica.',
                    battuta: 'Swing naturale e buon contatto su tutto il campo. Poche BB ma anche pochi K. Manca concentrazione e un piano chiaro alla battuta. Potenzialmente battitore di potenza.',
                    difesa: 'La forma atletica attuale limita il rendimento in un ruolo chiave. Migliorando resistenza e forza aumenterebbe l\'efficacia difensiva. Braccio da rinforzare per ridurre le rubate subite.',
                    generale: 'Giocatore che in battuta pu√≤ cambiare una partita, da lavorare su costanza in campo e disciplina fuori campo'
                },
                obiettivi: ['AVG stagione <.300', 'BB stagionali <5', 'Vedere qualche lancio in pi√π'],
                lavoroAutonomo: ['Miglioramento generale della condizione atletica'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 17, ab: 42, r: 7, h: 14, avg: '.333', slg: '.357', bb: 1, so: 8, sb: 1 },
                    { anno: '2024', squadra: 'LAN', gg: 7, ab: 23, r: 5, h: 9, avg: '.391', slg: '.478', bb: 1, so: 2, sb: 1 },
                    { anno: '2023', squadra: 'LAN', gg: 6, ab: 16, r: 1, h: 3, avg: '.188', slg: '.313', bb: 2, so: 3, sb: 1 },
                    { anno: '2022', squadra: 'LAN', gg: 9, ab: 9, r: 1, h: 1, avg: '.111', slg: '.111', bb: 0, so: 1, sb: 0 }
                ],
                totali: { gg: 39, ab: 90, r: 14, h: 27, avg: '.300', slg: '.356', bb: 4, so: 14, sb: 3 }
            },
            1: {
                name: 'Alessandro Ferrini',
                number: 1,
                role: 'Lanciatore',
                age: 22,
                turni: 0,
                inningLanciati: '150.1',
                kPercent: '10.5 K/9',
                bbPercent: '7.1 BB/9',
                skills: {
                    era: 7,
                    strikeout: 8,
                    controllo: 5,
                    velocita: 7,
                    forza: 4
                },
                puntiForza: 'Atletismo - Slider - Velocit√† di tiro buona',
                puntiDeboli: 'Controllo - Concentrazione - Serenit√†',
                vorreiLavorare: 'Controllo - minimizzare gli sforzi in partita',
                mioObiettivo: 'ERA < 4.5, pi√π di 60 inning',
                valutazioni: {
                    fisica: 'Fisico atletico e rapido di gambe. Buona base generale. √à fondamentale continuare il lavoro atletico e di prevenzione per ridurre il rischio di infortuni e aumentare la capacit√† di sostenere un numero maggiore di inning stagionali.',
                    battuta: '-',
                    difesa: 'Aspetto principale su cui intervenire. Il controllo cala sensibilmente con uomini in base. La dritta √® solida, lo slider √® un lancio di alto livello e potenzialmente dominante. Serve maggiore fiducia nella zona e nella sequenza di lanci chiamata dal catcher. Velocit√†: Buona velocit√† di base, adeguata al livello. Non √® l\'elemento limitante del suo profilo.',
                    generale: 'Lanciatore con grande potenziale di strikeout, ma con un rapporto K/BB ancora troppo sbilanciato. Deve semplificare l\'approccio mentale: pensare meno, affidarsi di pi√π all\'allenatore e al catcher. Se riesce a ridurre le basi su ball, pu√≤ diventare un lanciatore estremamente efficace e affidabile su lunghi stint.'
                },
                obiettivi: ['IP stagionali <60', 'BB stagionali >30', 'Attaccare i battitori', 'Non pensare troppo ai lanci', 'Continuare a lavorare sulla meccanica'],
                lavoroAutonomo: ['Ascoltare e migliorare la fiducia in s√®'],
                statistiche: [
                    { anno: '2025', w: 3, l: 5, era: '7.81', app: 16, gs: 4, ip: '40.1', h: 42, r: 54, er: 35, bb: 35, so: 62, whip: '1.92' },
                    { anno: '2024', w: 3, l: 5, era: '5.28', app: 11, gs: 11, ip: '58.0', h: 58, r: 37, er: 34, bb: 36, so: 59, whip: '1.62' },
                    { anno: '2023', w: 0, l: 1, era: '5.32', app: 10, gs: 2, ip: '22.0', h: 26, r: 13, er: 13, bb: 19, so: 28, whip: '2.05' },
                    { anno: '2022', w: 1, l: 2, era: '8.10', app: 10, gs: 5, ip: '30.0', h: 41, r: 37, er: 27, bb: 28, so: 27, whip: '2.30' }
                ],
                totali: { w: 7, l: 13, era: '6.53', app: 47, gs: 22, ip: '150.1', h: 167, r: 141, er: 109, bb: 118, so: 176, whip: '1.90' }
            },
            89: {
                name: 'Daniele Silvestri',
                number: 89,
                role: 'Lanciatore',
                age: 21,
                turni: 0,
                inningLanciati: '39.2',
                kPercent: '9.5 K/9',
                bbPercent: '18.6 BB/9',
                skills: {
                    era: 2,
                    strikeout: 5,
                    controllo: 4,
                    velocita: 7,
                    forza: 4
                },
                puntiForza: 'Velocit√†, punto di rilascio, rotazione dritta, rotazione curva, rotazione slider',
                puntiDeboli: 'Stress, ansia, controllo, change up, gestione uomini sulle basi',
                vorreiLavorare: 'Gestione dell\'ansia e del controllo, velocit√†, sviluppare un cambio competitivo, pickoff e gestione uomini sulle basi',
                mioObiettivo: 'Salire sul monte e dominare i battitori, gestire la partita a mente lucida senza ansia e stress (non scrivo numeri perch√© ritengo che a questi livelli i numeri siano facilmente falsabili)',
                valutazioni: {
                    fisica: 'Giocatore piuttosto alto, ma attualmente carente di muscolatura sia nella parte inferiore che in quella superiore del corpo. √à prioritario aumentare forza e stabilit√†, soprattutto nelle gambe, per migliorare equilibrio, ripetibilit√† del gesto e prevenzione degli infortuni.',
                    battuta: '-',
                    difesa: 'Gravemente insufficiente al momento, con evidenti difficolt√† soprattutto con uomini in base. La perdita di controllo compromette l\'efficacia complessiva e limita fortemente l\'utilizzo in partita. Serve un lavoro strutturato sulla meccanica, sul ritmo e sulla semplificazione dell\'esecuzione. Velocit√†: Buona velocit√† di base, coerente con il profilo fisico. Il problema non √® la "stuff", ma la capacit√† di comandarla.',
                    generale: 'Lanciatore giovane con margine di crescita, ma attualmente non affidabile in gara a causa dell\'elevato numero di basi su ball. Deve ridurre il carico mentale, affidarsi maggiormente all\'allenatore e al catcher e investire seriamente nel lavoro atletico. Solo migliorando il controllo e la tenuta fisica potr√† aumentare gli inning stagionali e trovare un ruolo stabile.'
                },
                obiettivi: ['Attaccare i battitori', 'Imparare a lavorare con i tempi tra i battitori', 'Migliorare la concentrazione'],
                lavoroAutonomo: ['Aumentare la fiducia nei lanci', 'Continuare a lavorare sulla meccanica'],
                statistiche: [
                    { anno: '2025', w: 0, l: 1, era: '19.70', app: 7, gs: 1, ip: '12.1', h: 14, r: 28, er: 27, bb: 27, so: 8, whip: '3.39' },
                    { anno: '2024', w: 0, l: 1, era: '18.31', app: 13, gs: 1, ip: '19.2', h: 28, r: 48, er: 40, bb: 40, so: 26, whip: '3.54' },
                    { anno: '2023', w: 0, l: 0, era: '6.75', app: 2, gs: 0, ip: '1.1', h: 2, r: 1, er: 1, bb: 1, so: 1, whip: '2.73' },
                    { anno: '2022', w: 0, l: 3, era: '24.16', app: 8, gs: 2, ip: '6.1', h: 16, r: 20, er: 17, bb: 14, so: 7, whip: '4.92' }
                ],
                totali: { w: 0, l: 5, era: '19.29', app: 30, gs: 4, ip: '39.2', h: 60, r: 97, er: 85, bb: 82, so: 42, whip: '3.62' }
            },
            98: {
                name: 'Federico Paperini',
                number: 98,
                role: 'Esterno',
                age: 19,
                turni: 0,
                kPercent: '-',
                bbPercent: '-',
                skills: {
                    avg: 1,
                    potenza: 3,
                    corsa: 8,
                    difesa: 5,
                    lancio: 5
                },
                puntiForza: 'Corsa',
                puntiDeboli: 'Battuta, Timore palla in box battuta',
                vorreiLavorare: 'Battuta',
                mioObiettivo: 'Serie B',
                valutazioni: {
                    fisica: 'Corpo esile, necessita di un percorso di potenziamento atletico strutturato. Buona rapidit√† di gambe, aspetto positivo su cui costruire. Il tiro √® da migliorare sia in forza che in sicurezza del gesto.',
                    battuta: '√à evidente la paura della palla, che limita fortemente il rendimento offensivo. Nonostante questo, presenta caratteristiche interessanti per diventare un battitore di drag bunt e di campo opposto, sfruttando velocit√† e controllo pi√π che potenza. Serve un lavoro progressivo sulla fiducia.',
                    difesa: 'Gravi carenze nel posizionamento sulla battuta. La paura della palla emerge sia sulle fly ball che sulle ground ball, condizionando lettura ed esecuzione. Prioritario lavorare su fondamentali di base e sicurezza.',
                    generale: 'Giocatore molto giovane, con ampi margini di miglioramento. La crescita dipender√† fortemente da allenamento costante, concentrazione e superamento delle barriere mentali legate alla paura della palla. Profilo da sviluppare con pazienza.'
                },
                obiettivi: ['AB stagionali >20', 'SB stagionali >5', 'GP stagionali >10'],
                lavoroAutonomo: ['Lavorare su posizionamento difensivo durante il BP', 'Lavorare su tiro durante il palleggio', 'Lavoro su concentrazione e controllo della rabbia'],
                statistiche: []
            },
            77: {
                name: 'Cosimo Rinaldi',
                number: 77,
                role: 'Esterno',
                role2: 'Prima Base',
                age: 19,
                turni: 0,
                kPercent: '-',
                bbPercent: '-',
                skills: {
                    avg: 7,
                    potenza: 6,
                    corsa: 7,
                    difesa: 7,
                    lancio: 6
                },
                puntiForza: 'Contatto, presa al volo e disciplina',
                puntiDeboli: 'Poca cattiveria sportiva, difficolt√† nella palla a terra',
                vorreiLavorare: 'Riuscire ad avere la palla profonda',
                mioObiettivo: 'Creare un buon ambiente con la squadra, dimostrare il mio valore aiutando la squadra dove e quando serve',
                valutazioni: {
                    fisica: 'Buona altezza, fisico esile ma allenabile. Da verificare la rapidit√† delle gambe e la forza del braccio per definirne meglio il profilo atletico e difensivo.',
                    battuta: 'Battitore mancino, elemento interessante da sfruttare nel lineup. Meccanica di base buona; √® necessario valutarne l\'efficacia in situazione reale, con battute in campo e in partita.',
                    difesa: 'Aspetto ancora da verificare. Servono i primi lavori sul campo per capire ruolo, attitudini e affidabilit√† difensiva.',
                    generale: 'Al momento mostra un atteggiamento molto positivo: ha voglia di allenarsi, ascolta e mantiene un comportamento tranquillo. Potenzialmente un buon giocatore da allenare, con prospettiva legata alla risposta al lavoro tecnico e atletico.'
                },
                obiettivi: ['AB stagionali >40', 'OBP stagionale >.333'],
                lavoroAutonomo: [],
                statistiche: []
            },
            38: {
                name: 'Antonio Parrini',
                number: 38,
                role: 'Interno',
                age: 38,
                turni: 345,
                kPercent: '14%',
                bbPercent: '13%',
                skills: {
                    avg: 7,
                    potenza: 6,
                    corsa: 7,
                    difesa: 8,
                    lancio: 7
                },
                puntiForza: 'Esperienza, passione, volont√† di apprendere',
                puntiDeboli: 'Gestione situazioni di stress',
                vorreiLavorare: 'Migliorare qualit√† del turno, prendere pi√π basi',
                mioObiettivo: 'Vorrei trovare continuit√† sia in battuta che in difesa, essere un riferimento per i compagni',
                valutazioni: {
                    fisica: 'Giocatore con buona forma fisica e forza generale. Nonostante l\'et√†, mantiene una condizione atletica di base solida che gli consente affidabilit√† e continuit√† di utilizzo.',
                    battuta: 'Battitore di contatto, √® capace di battere in tutte le zone del campo. Gestisce bene il turno e si adatta alle situazioni di gioco. Pu√≤ essere schierato efficacemente in qualsiasi posizione del lineup.',
                    difesa: 'Giocatore solido con ottimo guanto. Il tiro √® migliorabile, ma parte gi√† da una base tecnica valida. Grande versatilit√† difensiva: pu√≤ coprire tutti i ruoli del diamante e, all\'occorrenza, anche l\'esterno.',
                    generale: 'Giocatore carismatico, dotato di leadership naturale. Ottima lettura del gioco e delle situazioni, rappresenta un punto di riferimento importante sia in campo che nello spogliatoio.'
                },
                obiettivi: ['OBP stagionale <.400'],
                lavoroAutonomo: ['Migliorare il tiro con lavoro durante il palleggio', 'Aumentare le basi rubate', 'Lavorare pi√π sulla mobilit√† e parte dorsale del corpo'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 25, ab: 71, r: 13, h: 17, avg: '.239', slg: '.324', bb: 8, so: 15, sb: 2 },
                    { anno: '2024', squadra: 'LAN', gg: 20, ab: 63, r: 10, h: 24, avg: '.381', slg: '.460', bb: 5, so: 9, sb: 1 },
                    { anno: '2023', squadra: 'LAN', gg: 27, ab: 107, r: 28, h: 35, avg: '.327', slg: '.374', bb: 15, so: 11, sb: 2 },
                    { anno: '2022', squadra: 'LAN', gg: 27, ab: 104, r: 30, h: 35, avg: '.337', slg: '.394', bb: 16, so: 12, sb: 1 }
                ],
                totali: { gg: 99, ab: 345, r: 81, h: 111, avg: '.322', slg: '.386', bb: 44, so: 47, sb: 6 }
            },
            6: {
                name: 'Simone Geri',
                number: 6,
                role: 'Esterno',
                age: 34,
                turni: 323,
                kPercent: '18%',
                bbPercent: '13%',
                skills: {
                    avg: 5,
                    potenza: 6,
                    corsa: 4,
                    difesa: 6,
                    lancio: 6
                },
                puntiForza: 'Lettura del battitore e dove posizionarmi',
                puntiDeboli: 'Mi si spegne il cervello troppo presto',
                vorreiLavorare: 'Aspetto mentale',
                mioObiettivo: 'Avere una media alta per gli arrivi in base',
                valutazioni: {
                    fisica: 'Giocatore atletico con buona forza generale. Nonostante l\'et√†, mantiene una condizione fisica solida e affidabile, che gli consente continuit√† di rendimento.',
                    battuta: 'Giocatore con ottime percentuali di arrivi in base. Sa usare con intelligenza il campo opposto ed √® efficace nel gioco di sacrificio e nel bunt. Profilo offensivo funzionale e utile in pi√π situazioni di lineup.',
                    difesa: 'Ottimo posizionamento in campo esterno, con eccellente lettura della battuta e dei battitori. Braccio nella media, compensato da scelte difensive corrette e tempestive.',
                    generale: 'Rappresenta un esempio positivo per i giocatori pi√π giovani per presenza, atteggiamento e professionalit√†. Talvolta la rabbia pu√≤ offuscare il giudizio e influenzare la prestazione: una migliore gestione emotiva renderebbe il suo contributo ancora pi√π costante e prezioso per la squadra.'
                },
                obiettivi: ['OBP stagionale <.400', 'Lavoro su controllo della rabbia', 'Maggiore aggressivit√† in battuta'],
                lavoroAutonomo: [],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 25, ab: 68, r: 15, h: 15, avg: '.221', slg: '.357', bb: 8, so: 15, sb: 1 },
                    { anno: '2024', squadra: 'LAN', gg: 22, ab: 66, r: 7, h: 6, avg: '.091', slg: '.302', bb: 12, so: 14, sb: 4 },
                    { anno: '2023', squadra: 'LAN', gg: 27, ab: 98, r: 23, h: 23, avg: '.235', slg: '.364', bb: 10, so: 16, sb: 0 },
                    { anno: '2022', squadra: 'LAN', gg: 25, ab: 91, r: 21, h: 32, avg: '.352', slg: '.460', bb: 13, so: 13, sb: 0 }
                ],
                totali: { gg: 99, ab: 323, r: 66, h: 76, avg: '.235', slg: '.377', bb: 43, so: 58, sb: 5 }
            },
            19: {
                name: 'Simone Baratella',
                number: 19,
                role: 'Terza Base',
                role2: 'Prima Base',
                age: 32,
                turni: 343,
                kPercent: '13%',
                bbPercent: '14%',
                skills: {
                    avg: 8,
                    potenza: 6,
                    corsa: 6,
                    difesa: 7,
                    lancio: 7
                },
                puntiForza: 'Visione di gioco',
                puntiDeboli: 'Testa - Attitudine',
                vorreiLavorare: 'Miglioramento tecnica di battuta e approccio',
                mioObiettivo: 'Incrementare AVG e extra basi',
                valutazioni: {
                    fisica: 'Giocatore atletico con forza sopra la media. Continua a svolgere un buon lavoro sulla preparazione atletica; √® importante mantenere e incrementare il focus su flessibilit√† e mobilit√† per preservare qualit√† del movimento e prevenire infortuni.',
                    battuta: 'Battitore intelligente, capace di colpire con forza e di produrre punti. Utilizza bene il campo opposto. Alcuni aspetti della meccanica possono essere affinati per rendere il gesto pi√π fluido e ripetibile, aumentando la costanza del rendimento.',
                    difesa: 'Non ha paura della palla e mostra affidabilit√†. Deve lavorare sulla morbidezza del gesto tecnico per consolidare l\'ordinario e ottenere, con maggiore continuit√†, anche giocate di livello superiore.',
                    generale: 'Ottima lettura delle situazioni di gioco e della strategia complessiva. Leader in campo, riferimento per compagni e staff sia nelle scelte che nell\'atteggiamento.'
                },
                obiettivi: ['AVG stagionale <.333', 'SLG stagionale <.450'],
                lavoroAutonomo: ['Lavorare su difesa'],
                statistiche: [
                    { anno: '2025', squadra: 'LAN', gg: 27, ab: 84, r: 16, h: 28, avg: '.333', slg: '.447', bb: 9, so: 17, sb: 0 },
                    { anno: '2024', squadra: 'LAN', gg: 28, ab: 101, r: 21, h: 31, avg: '.307', slg: '.449', bb: 14, so: 12, sb: 0 },
                    { anno: '2023', squadra: 'LAN', gg: 27, ab: 98, r: 23, h: 31, avg: '.316', slg: '.481', bb: 18, so: 13, sb: 1 },
                    { anno: '2022', squadra: 'LAN', gg: 20, ab: 60, r: 19, h: 23, avg: '.383', slg: '.513', bb: 8, so: 10, sb: 1 }
                ],
                totali: { gg: 102, ab: 343, r: 79, h: 113, avg: '.329', slg: '.469', bb: 49, so: 52, sb: 2 }
            }
        };

        // Database allenamenti mercoled√¨ personalizzati
        // Solo i giocatori assegnati vedranno questi allenamenti nella loro area personale
        const allenamentMercoledi = {
            // MARZO - BATTUTA
            '2026-03-04': { tipo: 'BATTUTA POTENZA', giocatori: [12, 7, 99] }, // Grassi, Albano, Vergara
            '2026-03-11': { tipo: 'BATTUTA POTENZA 2', giocatori: [4, 3, 25] }, // Beudean, Della Nave, Scarpulla Lo.
            '2026-03-18': { tipo: 'BATTUTA CONTROLLO/RISP', giocatori: [19, 38, 59] }, // Baratella, Parrini, Biondi
            '2026-03-25': { tipo: 'BATTUTA CAMPO OPPOSTO', giocatori: [6, 32, 77, 8] }, // Geri, Anichini, Rinaldi, Panichi
            // APRILE - BATTUTA + DIFESA
            '2026-04-01': { tipo: 'BATTUTA RAPIDIT√Ä', giocatori: [98, 14, 90] }, // Paperini, Scarpulla Le., Rrethatori
            '2026-04-08': { tipo: 'DIFESA INTERNI 1', giocatori: [32, 59, 12] }, // Anichini, Biondi, Grassi
            '2026-04-15': { tipo: 'DIFESA INTERNI 2', giocatori: [19, 7, 38] }, // Baratella, Albano, Parrini
            '2026-04-22': { tipo: 'DIFESA ESTERNI 1', giocatori: [3, 8, 98] }, // Della Nave, Panichi, Paperini
            '2026-04-29': { tipo: 'DIFESA ESTERNI 2', giocatori: [6, 14, 4] }, // Geri, Scarpulla Le., Beudean
            // MAGGIO - DIFESA + BATTUTA
            '2026-05-06': { tipo: 'DIFESA ESTERNI 2 + RICEVITORI', giocatori: [77, 99, 90, 25] }, // Rinaldi, Vergara, Rrethatori, Scarpulla Lo.
            '2026-05-13': { tipo: 'BATTUTA POTENZA', giocatori: [12, 7, 99] }, // Grassi, Albano, Vergara
            '2026-05-20': { tipo: 'BATTUTA POTENZA 2', giocatori: [4, 3, 25] }, // Beudean, Della Nave, Scarpulla Lo.
            '2026-05-27': { tipo: 'BATTUTA CONTROLLO/RISP', giocatori: [19, 38, 59] }, // Baratella, Parrini, Biondi
            // GIUGNO - BATTUTA + DIFESA
            '2026-06-03': { tipo: 'BATTUTA CAMPO OPPOSTO', giocatori: [6, 32, 77] }, // Geri, Anichini, Rinaldi
            '2026-06-10': { tipo: 'BATTUTA CAMPO OPPOSTO + RAPIDIT√Ä', giocatori: [8, 98, 14, 90] }, // Panichi, Paperini, Scarpulla Le., Rrethatori
            '2026-06-17': { tipo: 'DIFESA INTERNI 1', giocatori: [32, 59, 12] }, // Anichini, Biondi, Grassi
            '2026-06-24': { tipo: 'DIFESA INTERNI 2', giocatori: [19, 7, 38] }, // Baratella, Albano, Parrini
            // LUGLIO - DIFESA
            '2026-07-01': { tipo: 'DIFESA ESTERNI 1', giocatori: [3, 8, 98] }, // Della Nave, Panichi, Paperini
            '2026-07-08': { tipo: 'DIFESA ESTERNI 2', giocatori: [6, 14, 4] }, // Geri, Scarpulla Le., Beudean
            '2026-07-15': { tipo: 'DIFESA ESTERNI 2 + RICEVITORI', giocatori: [77, 99, 90, 25] } // Rinaldi, Vergara, Rrethatori, Scarpulla Lo.
        };

        // Funzione per ottenere allenamenti di un giocatore
        function getPlayerTrainings(playerNumber) {
            const trainings = [];
            for (const [date, info] of Object.entries(allenamentMercoledi)) {
                if (info.giocatori.includes(playerNumber)) {
                    trainings.push({ date, tipo: info.tipo });
                }
            }
            return trainings.sort((a, b) => a.date.localeCompare(b.date));
        }

        // Formatta data
        function formatTrainingDate(dateStr) {
            const [year, month, day] = dateStr.split('-');
            const months = ['', 'Gen', 'Feb', 'Mar', 'Apr', 'Mag', 'Giu', 'Lug', 'Ago', 'Set', 'Ott', 'Nov', 'Dic'];
            return `${parseInt(day)} ${months[parseInt(month)]} ${year}`;
        }

        // Mappa icone per categorie
        // Genera contenuto
        const playerData = sessionStorage.getItem('playerData');
        const container = document.getElementById('personalContent');

        if (playerData) {
            const playerSession = JSON.parse(playerData);
            const player = playerObjectives[playerSession.number];

            if (player) {
                // Helpers
                const isPitcher = player.role === 'Lanciatore';
                
                const renderSkills = (skills) => {
                    // Labels diverse per lanciatori e battitori
                    const batterLabels = { avg: 'Media Battuta', potenza: 'Potenza', corsa: 'Corsa', difesa: 'Difesa', lancio: 'Forza Braccio' };
                    const pitcherLabels = { era: 'ERA', strikeout: 'Strikeout', controllo: 'Controllo', velocita: 'Velocit√†', forza: 'Forza Lancio' };
                    const skillLabels = isPitcher ? pitcherLabels : batterLabels;
                    
                    return Object.entries(skills).map(([key, val]) => {
                        const width = val * 10;
                        const label = skillLabels[key] || key;
                        return `
                            <div class="skill-row">
                                <div class="skill-header">
                                    <span>${skillLabels[key] || key}</span>
                                    <span>${val}/10</span>
                                </div>
                                <div class="progress-bg">
                                    <div class="progress-fill" style="width: ${width}%"></div>
                                </div>
                            </div>
                        `;
                    }).join('');
                };

                const renderEval = (evals) => {
                    const sections = [
                        { k: 'fisica', t: 'Preparazione Fisica', i: 'üí™' },
                        { k: 'battuta', t: 'Battuta', i: 'üèè' },
                        { k: 'difesa', t: 'Difesa', i: 'üõ°Ô∏è' },
                        { k: 'generale', t: 'Generale', i: 'üß†' }
                    ];
                    return sections.map(s => `
                        <div class="eval-item">
                            <div class="eval-title">${s.i} ${s.t}</div>
                            <p>${evals[s.k] || 'Nessuna valutazione disponibile.'}</p>
                        </div>
                    `).join('');
                };

                const renderStatsRows = (stats, totali) => {
                    if (!stats || stats.length === 0) return '<tr><td colspan="12">Nessuna statistica disponibile</td></tr>';
                    const isPitcher = stats.some(s => s.ip !== undefined);
                    let rows = "";
                    if (isPitcher) {
                        rows = stats.map(s => `
                            <tr>
                                <td>${s.anno || ''}</td>
                                <td>${s.w || '-'}</td>
                                <td>${s.l || '-'}</td>
                                <td>${s.era || '-'}</td>
                                <td>${s.ip || '-'}</td>
                                <td>${s.k || '-'}</td>
                                <td>${s.bb || '-'}</td>
                                <td>${s.whip || '-'}</td>
                            </tr>
                        `).join('');
                        if (totali) {
                            rows += `
                                <tr style="background: rgba(245, 158, 11, 0.15); font-weight: bold; color: white;">
                                    <td>TOTALI</td>
                                    <td>${totali.w ?? '-'}</td>
                                    <td>${totali.l ?? '-'}</td>
                                    <td>${totali.era ?? '-'}</td>
                                    <td>${totali.ip ?? '-'}</td>
                                    <td>${totali.k ?? '-'}</td>
                                    <td>${totali.bb ?? '-'}</td>
                                    <td>${totali.whip ?? '-'}</td>
                                </tr>
                            `;
                        }
                        return rows;
                    }
                    // Calcola OBP se non presente
                    const calcOBP = (s) => {
                        if (s.obp) return s.obp;
                        if (s.ab && s.h && s.bb) {
                            const obp = (parseInt(s.h) + parseInt(s.bb)) / (parseInt(s.ab) + parseInt(s.bb));
                            return '.' + Math.round(obp * 1000).toString().padStart(3, '0');
                        }
                        return '-';
                    };
                    
                    rows = stats.map(s => `
                        <tr>
                            <td>${s.anno || ''}</td>
                            <td>${s.squadra || ''}</td>
                            <td>${s.gg || '-'}</td>
                            <td>${s.ab || '-'}</td>
                            <td>${s.r || '-'}</td>
                            <td>${s.h || '-'}</td>
                            <td>${s.avg || '-'}</td>
                            <td>${calcOBP(s)}</td>
                            <td>${s.bb || '-'}</td>
                            <td>${s.so || '-'}</td>
                            <td>${s.sb || '-'}</td>
                        </tr>
                    `).join('');
                    if (totali) {
                        rows += `
                            <tr style="background: rgba(245, 158, 11, 0.15); font-weight: bold; color: white;">
                                <td>TOTALI</td>
                                <td></td>
                                <td>${totali.gg ?? totali.g ?? '-'}</td>
                                <td>${totali.ab ?? '-'}</td>
                                <td>${totali.r ?? '-'}</td>
                                <td>${totali.h ?? '-'}</td>
                                <td>${totali.avg ?? '-'}</td>
                                <td>${calcOBP(totali)}</td>
                                <td>${totali.bb ?? '-'}</td>
                                <td>${totali.so ?? '-'}</td>
                                <td>${totali.sb ?? '-'}</td>
                            </tr>
                        `;
                    }
                    return rows;
                };

                const renderStatsHeader = (stats) => {
                    const isPitcher = stats && stats.some(s => s.ip !== undefined);
                    if (isPitcher) {
                        return `<th>ANNO</th> <th>W</th> <th>L</th> <th>ERA</th> <th>IP</th> <th>K</th> <th>BB</th> <th>WHIP</th>`;
                    }
                    return `<th>ANNO</th> <th>TEAM</th> <th>GG</th> <th>AB</th> <th>R</th> <th>H</th> <th>AVG</th> <th>OBP</th> <th>BB</th> <th>SO</th> <th>SB</th>`;
                }

                // AI Coach - Generatore di consigli personalizzati
                const generateAIAdvice = (player) => {
                    const advices = [];
                    const isPitcher = player.role === 'Lanciatore';
                    
                    // Parse percentuali
                    const parsePercent = (str) => {
                        if (!str || str === '-') return null;
                        return parseFloat(str.replace(',', '.').replace('%', ''));
                    };
                    
                    const kPct = parsePercent(player.kPercent);
                    const bbPct = parsePercent(player.bbPercent);
                    
                    if (isPitcher) {
                        // Consigli per lanciatori
                        const totali = player.totali || {};
                        const era = parseFloat(totali.era) || 0;
                        const whip = parseFloat(totali.whip) || 0;
                        const kPer9 = parsePercent(player.kPercent);
                        const bbPer9 = parsePercent(player.bbPercent);
                        
                        // ERA Analysis
                        if (era > 0) {
                            if (era < 3.50) {
                                advices.push({ type: 'positive', icon: 'üåü', title: 'ERA Eccellente', text: `La tua ERA di ${era.toFixed(2)} √® di alto livello. Mantieni questa consistenza lavorando sulla ripetibilit√† della meccanica.` });
                            } else if (era < 5.00) {
                                advices.push({ type: 'info', icon: 'üìä', title: 'ERA nella Media', text: `ERA di ${era.toFixed(2)} - C'√® margine di miglioramento. Concentrati sulla riduzione delle basi concesse e sul lanciare pi√π spesso in vantaggio nel conteggio.` });
                            } else {
                                advices.push({ type: 'warning', icon: '‚ö†Ô∏è', title: 'ERA da Migliorare', text: `ERA di ${era.toFixed(2)} - Priorit√†: ridurre i punti concessi. Lavora sul controllo, evita i conteggi sfavorevoli e fidati di pi√π della tua difesa.` });
                            }
                        }
                        
                        // WHIP Analysis
                        if (whip > 0) {
                            if (whip < 1.20) {
                                advices.push({ type: 'positive', icon: 'üéØ', title: 'WHIP Solido', text: `WHIP di ${whip.toFixed(2)} indica ottimo controllo del traffico basi. Continua cos√¨!` });
                            } else if (whip > 1.80) {
                                advices.push({ type: 'critical', icon: 'üö®', title: 'Troppi Corridori', text: `WHIP di ${whip.toFixed(2)} significa troppi uomini in base. Focus: attaccare la zona strike dal primo lancio.` });
                            }
                        }
                        
                        // BB/9 Analysis
                        if (bbPer9 && bbPer9 > 5) {
                            advices.push({ type: 'critical', icon: 'üéØ', title: 'Controllo Prioritario', text: `${bbPer9.toFixed(1)} BB/9 √® troppo alto. Suggerimento: semplifica la meccanica, lavora sul ritmo e fidati della tua dritta nella zona.` });
                        }
                        
                        // K/BB Ratio
                        if (kPer9 && bbPer9 && bbPer9 > 0) {
                            const ratio = kPer9 / bbPer9;
                            if (ratio < 1.5) {
                                advices.push({ type: 'warning', icon: '‚öñÔ∏è', title: 'Rapporto K/BB', text: `Il rapporto K/BB di ${ratio.toFixed(2)} pu√≤ migliorare. Obiettivo: almeno 2 strikeout per ogni base concessa.` });
                            } else if (ratio >= 2) {
                                advices.push({ type: 'positive', icon: 'üí™', title: 'Buon K/BB', text: `Rapporto K/BB di ${ratio.toFixed(2)} - Stai dominando i battitori!` });
                            }
                        }
                        
                        // Mental game
                        if (player.puntiDeboli && (player.puntiDeboli.toLowerCase().includes('ansia') || player.puntiDeboli.toLowerCase().includes('stress'))) {
                            advices.push({ type: 'info', icon: 'üß†', title: 'Preparazione Mentale', text: 'Prova tecniche di respirazione tra i lanci. 4 secondi inspira, 4 trattieni, 4 espira. Questo aiuta a resettare la mente dopo ogni lancio.' });
                        }
                        
                    } else {
                        // Consigli per battitori/difensori
                        const totali = player.totali || {};
                        const avg = parseFloat((totali.avg || '').replace('.', '0.')) || 0;
                        const obp = parseFloat((totali.obp || '').replace('.', '0.')) || 0;
                        const so = parseInt(totali.so) || 0;
                        const bb = parseInt(totali.bb) || 0;
                        const sb = parseInt(totali.sb) || 0;
                        const ab = parseInt(totali.ab) || 1;
                        
                        // AVG Analysis
                        if (avg > 0) {
                            if (avg >= 0.300) {
                                advices.push({ type: 'positive', icon: 'üî•', title: 'Media Battuta Eccellente', text: `Media di ${avg.toFixed(3)} - Sei tra i migliori! Mantieni l'approccio aggressivo sugli strike.` });
                            } else if (avg >= 0.250) {
                                advices.push({ type: 'info', icon: 'üìà', title: 'Media Battuta Solida', text: `Media di ${avg.toFixed(3)} - Buona base. Per salire, lavora sulla copertura della palla esterna e sul timing.` });
                            } else if (avg < 0.200) {
                                advices.push({ type: 'critical', icon: 'üéØ', title: 'Media da Alzare', text: `Media di ${avg.toFixed(3)} - Priorit√†: mettere pi√π palle in gioco. Accorcia lo swing con 2 strike e cerca il contatto.` });
                            }
                        }
                        
                        // K% Analysis
                        if (kPct !== null) {
                            if (kPct > 30) {
                                advices.push({ type: 'critical', icon: '‚ö°', title: 'Troppi Strikeout', text: `${kPct.toFixed(1)}% di K √® alto. Suggerimenti: migliora la selezione dei lanci, allunga i turni vedendo pi√π lanci, lavora sul contatto con 2 strike.` });
                            } else if (kPct > 25) {
                                advices.push({ type: 'warning', icon: 'üëÅÔ∏è', title: 'Strikeout da Ridurre', text: `${kPct.toFixed(1)}% K - Puoi migliorare. Focus: riconosci meglio gli effetti e non inseguire palle fuori zona.` });
                            } else if (kPct < 15) {
                                advices.push({ type: 'positive', icon: '‚ú®', title: 'Ottimo Contatto', text: `Solo ${kPct.toFixed(1)}% K - Eccellente capacit√† di mettere la palla in gioco!` });
                            }
                        }
                        
                        // BB% Analysis
                        if (bbPct !== null) {
                            if (bbPct >= 15) {
                                advices.push({ type: 'positive', icon: 'üëÄ', title: 'Ottima Disciplina', text: `${bbPct.toFixed(1)}% BB - Eccellente occhio al piatto! Questa √® una skill preziosa.` });
                            } else if (bbPct < 8) {
                                advices.push({ type: 'warning', icon: '‚è≥', title: 'Pi√π Pazienza', text: `${bbPct.toFixed(1)}% BB - Prova ad allungare i turni. Vedere pi√π lanci aiuta a leggere meglio il lanciatore.` });
                            }
                        }
                        
                        // BB/K Ratio
                        if (bb > 0 && so > 0) {
                            const bbkRatio = bb / so;
                            if (bbkRatio < 0.5) {
                                advices.push({ type: 'warning', icon: '‚öñÔ∏è', title: 'Rapporto BB/K', text: `Rapporto BB/K di ${bbkRatio.toFixed(2)} - Obiettivo: almeno 0.5. Lavora sulla selezione e non inseguire palle cattive.` });
                            } else if (bbkRatio >= 0.75) {
                                advices.push({ type: 'positive', icon: 'üéØ', title: 'Approccio Equilibrato', text: `Ottimo rapporto BB/K di ${bbkRatio.toFixed(2)} - Hai un buon equilibrio tra aggressivit√† e pazienza.` });
                            }
                        }
                        
                        // Speed/SB suggestions
                        if (player.skills && player.skills.corsa >= 7 && sb < 5 && ab > 50) {
                            advices.push({ type: 'info', icon: 'üèÉ', title: 'Sfrutta la Velocit√†', text: 'Hai gambe veloci ma poche rubate. Lavora sulla lettura dei lanciatori e sull\'anticipo per aumentare le SB.' });
                        } else if (sb >= 10) {
                            advices.push({ type: 'positive', icon: '‚ö°', title: 'Ottima Velocit√†', text: `${sb} basi rubate - Stai sfruttando bene la tua velocit√†!` });
                        }
                        
                        // Defense suggestions based on skills
                        if (player.skills && player.skills.difesa < 5) {
                            advices.push({ type: 'warning', icon: 'üõ°Ô∏è', title: 'Focus Difesa', text: 'La difesa ha margini di miglioramento. Dedica tempo extra al lavoro con le ground ball e al posizionamento.' });
                        }
                        
                        // Age-based suggestions
                        if (player.age <= 21) {
                            advices.push({ type: 'info', icon: 'üìö', title: 'Fase di Sviluppo', text: 'Sei giovane - √® il momento perfetto per costruire fondamentali solidi. Non avere fretta, concentrati sul processo.' });
                        } else if (player.age >= 30) {
                            advices.push({ type: 'info', icon: 'üèÜ', title: 'Esperienza Conta', text: 'La tua esperienza √® preziosa. Usa la conoscenza del gioco per compensare e aiuta i pi√π giovani.' });
                        }
                    }
                    
                    // Limita a 4 consigli massimo
                    return advices.slice(0, 4);
                };
                
                // Genera sommario AI
                const generateAISummary = (player, advices) => {
                    const isPitcher = player.role === 'Lanciatore';
                    const positives = advices.filter(a => a.type === 'positive').length;
                    const warnings = advices.filter(a => a.type === 'warning' || a.type === 'critical').length;
                    
                    if (isPitcher) {
                        if (warnings > positives) {
                            return `üìå Priorit√† principale: lavorare sul controllo e sulla gestione mentale della partita. Ogni allenamento dedica almeno 10 minuti al lavoro sulla zona strike con focus sulla ripetibilit√† del gesto.`;
                        } else {
                            return `üìå Sei sulla strada giusta! Continua a perfezionare la meccanica e mantieni alta la fiducia nei tuoi lanci. Obiettivo: dominare con consistenza.`;
                        }
                    } else {
                        if (warnings > positives) {
                            return `üìå Focus di questa stagione: migliorare l'approccio al piatto. Dedica tempo alla macchina lanciabatti lavorando sul riconoscimento dei lanci e sul timing.`;
                        } else {
                            return `üìå Stai performando bene! Per fare il salto di qualit√†, concentrati sui dettagli e mantieni alta la consistenza in ogni turno.`;
                        }
                    }
                };
                
                // Chatbot AI Coach con API Groq
                const renderAICoach = (player) => {
                    return `
                        <div class="card col-span-12">
                            <div class="chatbot-container">
                                <div class="chatbot-header">
                                    <div class="chatbot-avatar">ü§ñ</div>
                                    <div class="chatbot-info">
                                        <h3>AI Coach Personale</h3>
                                        <p>Chiedimi qualsiasi cosa sulle tue statistiche e performance</p>
                                    </div>
                                </div>
                                <div class="chatbot-messages" id="chatMessages">
                                    <div class="chat-message bot">
                                        <div class="message-avatar bot">ü§ñ</div>
                                        <div class="message-content">
                                            Ciao <strong>${player.name}</strong>! Sono il tuo AI Coach personale powered by Groq AI. 
                                            Ho analizzato le tue statistiche e posso aiutarti a migliorare. 
                                            Cosa vorresti sapere? üí™
                                        </div>
                                    </div>
                                </div>
                                <div class="chatbot-input-area">
                                    <div class="chatbot-suggestions" id="suggestions">
                                        <button class="suggestion-btn" data-msg="Come posso migliorare?">Come posso migliorare?</button>
                                        <button class="suggestion-btn" data-msg="Analizza le mie statistiche">Analizza le mie statistiche</button>
                                        <button class="suggestion-btn" data-msg="Quali sono i miei punti deboli?">Punti deboli?</button>
                                        <button class="suggestion-btn" data-msg="Suggerisci esercizi">Suggerisci esercizi</button>
                                    </div>
                                    <div class="chatbot-input-wrapper">
                                        <input type="text" class="chatbot-input" id="chatInput" placeholder="Scrivi un messaggio...">
                                        <button class="send-btn" id="sendBtn">Invia</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                };

                // Inizializza Chatbot con AI reale
                const initChatbot = (player) => {
                    const messagesContainer = document.getElementById('chatMessages');
                    const chatInput = document.getElementById('chatInput');
                    const sendBtn = document.getElementById('sendBtn');
                    const suggestions = document.querySelectorAll('.suggestion-btn');

                    let conversationHistory = [];

                    suggestions.forEach(btn => {
                        btn.addEventListener('click', () => {
                            const msg = btn.dataset.msg;
                            sendMessage(msg);
                        });
                    });

                    const sendMessage = async (text) => {
                        if (!text.trim()) return;

                        addMessage(text, 'user');
                        chatInput.value = '';
                        sendBtn.disabled = true;

                        showTyping();

                        try {
                            const response = await getAIResponse(text, player, conversationHistory);
                            hideTyping();
                            addMessage(response, 'bot');
                            
                            conversationHistory.push({ role: 'user', content: text });
                            conversationHistory.push({ role: 'assistant', content: response });
                            
                            if (conversationHistory.length > 10) {
                                conversationHistory = conversationHistory.slice(-10);
                            }
                        } catch (error) {
                            hideTyping();
                            addMessage('Mi dispiace, ho avuto un problema tecnico. Riprova tra poco! üîß', 'bot');
                            console.error('AI Error:', error);
                        } finally {
                            sendBtn.disabled = false;
                        }
                    };

                    sendBtn.addEventListener('click', () => sendMessage(chatInput.value));
                    chatInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') sendMessage(chatInput.value);
                    });

                    const addMessage = (text, type) => {
                        const msgDiv = document.createElement('div');
                        msgDiv.className = `chat-message ${type}`;
                        msgDiv.innerHTML = `
                            <div class="message-avatar ${type}">${type === 'bot' ? 'ü§ñ' : 'üë§'}</div>
                            <div class="message-content">${text}</div>
                        `;
                        messagesContainer.appendChild(msgDiv);
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    };

                    let typingIndicator = null;
                    const showTyping = () => {
                        typingIndicator = document.createElement('div');
                        typingIndicator.className = 'chat-message bot';
                        typingIndicator.id = 'typing';
                        typingIndicator.innerHTML = `
                            <div class="message-avatar bot">ü§ñ</div>
                            <div class="message-content">
                                <div class="typing-indicator">
                                    <div class="typing-dot"></div>
                                    <div class="typing-dot"></div>
                                    <div class="typing-dot"></div>
                                </div>
                            </div>
                        `;
                        messagesContainer.appendChild(typingIndicator);
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    };

                    const hideTyping = () => {
                        if (typingIndicator) {
                            typingIndicator.remove();
                            typingIndicator = null;
                        }
                    };
                };

                // Funzione per chiamare API AI (Groq - gratuita e veloce)
                const getAIResponse = async (userMessage, player, history) => {
                    const GROQ_API_KEY = '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';
                    const GROQ_API_URL = 'https://api.groq.com/openai/v1/chat/completions';

                    const isPitcher = player.role === 'Lanciatore';
                    const playerContext = preparePlayerContext(player);

                    const systemPrompt = `Sei un allenatore di baseball esperto e motivazionale. Stai parlando con ${player.name}, ${player.age} anni, ${player.role}.

${playerContext}

ISTRUZIONI:
- Rispondi in italiano in modo professionale ma amichevole
- Usa emoji per rendere il messaggio pi√π coinvolgente
- Basa i tuoi consigli sulle statistiche reali del giocatore
- Sii specifico e pratico con esercizi e suggerimenti
- Usa tag HTML per formattare (es: <strong>, <br>)
- Mantieni le risposte concise ma complete (max 200 parole)
- Motivazionale ma realistico
- Se chiede esercizi, dai routine specifiche con ripetizioni e tempi`;

                    const messages = [
                        { role: 'system', content: systemPrompt },
                        ...history.slice(-6),
                        { role: 'user', content: userMessage }
                    ];

                    try {
                        const response = await fetch(GROQ_API_URL, {
                            method: 'POST',
                            headers: {
                                'Authorization': `Bearer ${GROQ_API_KEY}`,
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                model: 'llama-3.1-8b-instant',
                                messages: messages,
                                temperature: 0.7,
                                max_tokens: 500,
                                top_p: 0.9
                            })
                        });

                        if (!response.ok) {
                            throw new Error(`API Error: ${response.status}`);
                        }

                        const data = await response.json();
                        return data.choices[0].message.content;
                    } catch (error) {
                        console.error('Groq API Error:', error);
                        return generateFallbackResponse(userMessage, player);
                    }
                };

                // Prepara contesto completo del giocatore
                const preparePlayerContext = (player) => {
                    const isPitcher = player.role === 'Lanciatore';
                    const totali = player.totali || {};
                    
                    let context = `üìä STATISTICHE:\n`;
                    
                    if (isPitcher) {
                        context += `- Inning Lanciati: ${player.inningLanciati}\n`;
                        context += `- ERA: ${totali.era || 'N/A'}\n`;
                        context += `- WHIP: ${totali.whip || 'N/A'}\n`;
                        context += `- K/9: ${player.kPercent}\n`;
                        context += `- BB/9: ${player.bbPercent}\n`;
                        context += `- Strikeout totali: ${totali.so || 'N/A'}\n`;
                        context += `- Basi su ball totali: ${totali.bb || 'N/A'}\n`;
                    } else {
                        context += `- Turni: ${player.turni}\n`;
                        context += `- AVG: ${totali.avg || 'N/A'}\n`;
                        context += `- OBP: ${totali.obp || 'N/A'}\n`;
                        context += `- SLG: ${totali.slg || 'N/A'}\n`;
                        context += `- K%: ${player.kPercent}\n`;
                        context += `- BB%: ${player.bbPercent}\n`;
                        context += `- Strikeout: ${totali.so || 'N/A'}\n`;
                        context += `- Basi su ball: ${totali.bb || 'N/A'}\n`;
                        context += `- Basi rubate: ${totali.sb || 'N/A'}\n`;
                    }

                    if (player.puntiForza) {
                        context += `\nüí™ PUNTI DI FORZA: ${player.puntiForza}\n`;
                    }
                    
                    if (player.puntiDeboli) {
                        context += `\n‚ö†Ô∏è PUNTI DEBOLI: ${player.puntiDeboli}\n`;
                    }

                    if (player.obiettivi && player.obiettivi.length > 0) {
                        context += `\nüéØ OBIETTIVI STAGIONALI:\n`;
                        player.obiettivi.forEach(o => context += `- ${o}\n`);
                    }

                    if (player.valutazioni && player.valutazioni.generale) {
                        context += `\nüìù VALUTAZIONE STAFF: ${player.valutazioni.generale}\n`;
                    }

                    return context;
                };

                // Risposta fallback se API non funziona
                const generateFallbackResponse = (message, player) => {
                    const msg = message.toLowerCase();
                    const totali = player.totali || {};
                    const isPitcher = player.role === 'Lanciatore';
                    
                    if (msg.includes('statistic') || msg.includes('analiz')) {
                        if (isPitcher) {
                            return `üìä <strong>Tue Statistiche</strong><br><br>ERA: ${totali.era || 'N/A'}, WHIP: ${totali.whip || 'N/A'}, K/9: ${player.kPercent}, BB/9: ${player.bbPercent}`;
                        } else {
                            return `üìä <strong>Tue Statistiche</strong><br><br>AVG: ${totali.avg || 'N/A'}, OBP: ${totali.obp || 'N/A'}, K%: ${player.kPercent}, BB%: ${player.bbPercent}`;
                        }
                    }
                    
                    if (msg.includes('obiettiv')) {
                        const obiettivi = player.obiettivi || [];
                        if (obiettivi.length > 0) {
                            return `üéØ <strong>I Tuoi Obiettivi:</strong><br><br>${obiettivi.map(o => `‚Ä¢ ${o}`).join('<br>')}`;
                        }
                    }
                    
                    return `L'AI √® temporaneamente non disponibile, ma posso comunque aiutarti! Prova a chiedermi delle tue statistiche, obiettivi o punti di forza. üí™`;
                };

                container.innerHTML = `
                    <div class="personal-hero">
                        <div class="hero-content">
                            <div class="player-badge">
                                <span class="player-number">#${player.number}</span>
                            </div>
                            <h1 class="player-name">${player.name}</h1>
                            <p class="player-role">${player.role}</p>
                            <div class="hero-tags">
                                <span class="hero-tag">Et√†: ${player.age}</span>
                                <span class="hero-tag">Turni: ${player.turni}</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-container">
                        <div class="stat-box col-span-3">
                            <div class="stat-value">${player.kPercent || '-'}</div>
                            <div class="stat-label">K %</div>
                        </div>
                        <div class="stat-box col-span-3">
                            <div class="stat-value">${player.bbPercent || '-'}</div>
                            <div class="stat-label">BB %</div>
                        </div>
                        
                        <div class="card col-span-6">
                            <h3 class="eval-title">SKILLS & TOOLS</h3>
                            <div class="skills-wrapper">
                                ${renderSkills(player.skills)}
                            </div>
                        </div>

                        <div class="card col-span-12">
                            <h3 class="eval-title">VALUTAZIONI STAFF</h3>
                            <div class="eval-grid">
                                ${renderEval(player.valutazioni)}
                            </div>
                        </div>

                        <div class="card col-span-12">
                            <div class="quad-grid">
                                <div class="quad-box">
                                    <div class="quad-title">PUNTI DI FORZA</div>
                                    <div class="quad-content">${player.puntiForza}</div>
                                </div>
                                <div class="quad-box">
                                    <div class="quad-title">PUNTI DEBOLI</div>
                                    <div class="quad-content">${player.puntiDeboli}</div>
                                </div>
                                <div class="quad-box">
                                    <div class="quad-title">VORREI LAVORARE SU</div>
                                    <div class="quad-content">${player.vorreiLavorare}</div>
                                </div>
                                <div class="quad-box">
                                    <div class="quad-title">IL MIO OBIETTIVO</div>
                                    <div class="quad-content">${player.mioObiettivo}</div>
                                </div>
                            </div>
                        </div>

                        <div class="card col-span-6">
                            <h3 class="eval-title">üéØ OBIETTIVI 2026</h3>
                            <ul class="goal-list">
                                ${(player.obiettivi || []).map(o => `<li>${o}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="card col-span-6">
                            <h3 class="eval-title">üî® LAVORO AUTONOMO</h3>
                            <ul class="goal-list work">
                                ${(player.lavoroAutonomo || []).map(o => `<li>${o}</li>`).join('')}
                            </ul>
                        </div>

                        ${(() => {
                            const trainings = getPlayerTrainings(player.number);
                            if (trainings.length === 0) return '';
                            return `
                                <div class="card col-span-12" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.2) 0%, rgba(245, 158, 11, 0.1) 100%); border-left: 5px solid #f59e0b;">
                                    <h3 class="eval-title" style="color: #fbbf24; -webkit-text-fill-color: #fbbf24; background: none;">üìÖ I TUOI MERCOLED√å EXTRA</h3>
                                    <p style="color: #fcd34d; margin-bottom: 1rem; font-size: 0.9rem;">Allenamenti specifici personalizzati - Marzo/Luglio 2026</p>
                                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
                                        ${trainings.map(t => `
                                            <div style="background: rgba(255, 255, 255, 0.08); padding: 1rem; border-radius: 12px; border: 1px solid rgba(245, 158, 11, 0.3);">
                                                <div style="font-weight: 700; color: white; font-size: 1.1rem;">${formatTrainingDate(t.date)}</div>
                                                <div style="color: #fbbf24; font-weight: 600; margin-top: 0.25rem;">üéØ ${t.tipo}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            `;
                        })()}

                        <div class="card col-span-12">
                            <h3 class="eval-title">üìà STATISTICHE CARRIERA</h3>
                            <div class="table-container">
                                <table class="stats-table">
                                    <thead>
                                        <tr>
                                            ${renderStatsHeader(player.statistiche)}
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${renderStatsRows(player.statistiche, player.totali)}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        ${renderAICoach(player)}
                    </div>

                    <div style="text-align:center; padding: 2rem; display: flex; flex-direction: column; gap: 1rem; align-items: center;">
                        <a href="index.html" class="back-btn">‚Üê Torna alla Home</a>
                        <button id="logoutBtn" class="back-btn" style="background: var(--danger); color: white;">Logout</button>
                        <button id="clearDataBtn" class="back-btn" style="background: #6366f1; color: white; font-size: 0.85rem;">üîÑ Aggiorna App (Cancella Cache)</button>
                    </div>
                `;

                // Inizializza chatbot dopo il render
                initChatbot(player);
            } else {
                container.innerHTML = '<div class="no-player"><h2>Profilo non trovato</h2><a href="index.html" class="back-btn">Torna alla home</a></div>';
            }
        } else {
            // Redirect to login if needed, or show msg
            container.innerHTML = '<div class="no-player"><h2>Accesso Negato</h2><a href="login.html" class="back-btn">Login</a></div>';
        }
    </script>
</body>
</html>
